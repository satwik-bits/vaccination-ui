{"ast":null,"code":"var _jsxFileName = \"/Users/satwikmohanty/IdeaProjects/vaccination-ui/src/components/GenerateReport.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from '../api/axios';\nimport './GenerateReport.css';\nconst GenerateReport = ({\n  token\n}) => {\n  const [records, setRecords] = useState([]);\n  const [vaccineFilter, setVaccineFilter] = useState('');\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get('/register/display', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('Fetched Data:', res.data); // Log fetched data for debugging\n        setRecords(res.data || []);\n      } catch (err) {\n        console.error('Error loading data:', err);\n      }\n    };\n    fetchData();\n  }, [token]);\n  const handleDownload = async type => {\n    try {\n      const res = await axios.get('/register/download', {\n        params: {\n          fileDownloadType: type\n        },\n        responseType: 'blob',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const url = URL.createObjectURL(new Blob([res.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `vaccination_report.${type.toLowerCase()}`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (err) {\n      console.error(`Download ${type} failed:`, err);\n    }\n  };\n  const filtered = records.filter(rec => {\n    var _rec$vaccineName;\n    return (_rec$vaccineName = rec.vaccineName) === null || _rec$vaccineName === void 0 ? void 0 : _rec$vaccineName.toLowerCase().includes(vaccineFilter.toLowerCase());\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Vaccination Report\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: vaccineFilter,\n    onChange: e => setVaccineFilter(e.target.value),\n    placeholder: \"\\uD83D\\uDD0D Filter by Vaccine Name\",\n    className: \"filter-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDownload('CSV'),\n    className: \"download-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"Download CSV\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDownload('PDF'),\n    className: \"download-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Download PDF\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"vaccination-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, \"Student Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Vaccination Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Vaccination Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, \"Vaccine Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, filtered.length === 0 ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: \"4\",\n    className: \"no-records\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"No records found\")) : filtered.map((r, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: i,\n    className: \"table-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, r.studentName), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `status ${r.vaccinated ? 'vaccinated' : 'not-vaccinated'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, r.vaccinated ? 'Vaccinated' : 'Not Vaccinated')), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, r.vaccinationDate ? new Date(r.vaccinationDate).toLocaleDateString() : 'N/A'), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, r.vaccineName)))))));\n};\nexport default GenerateReport;","map":{"version":3,"names":["React","useEffect","useState","axios","GenerateReport","token","records","setRecords","vaccineFilter","setVaccineFilter","fetchData","res","get","headers","Authorization","console","log","data","err","error","handleDownload","type","params","fileDownloadType","responseType","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","toLowerCase","body","appendChild","click","remove","filtered","filter","rec","_rec$vaccineName","vaccineName","includes","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","onClick","length","colSpan","map","r","i","key","studentName","vaccinated","vaccinationDate","Date","toLocaleDateString"],"sources":["/Users/satwikmohanty/IdeaProjects/vaccination-ui/src/components/GenerateReport.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from '../api/axios';\nimport './GenerateReport.css';\n\nconst GenerateReport = ({ token }) => {\n  const [records, setRecords] = useState([]);\n  const [vaccineFilter, setVaccineFilter] = useState('');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get('/register/display', {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        console.log('Fetched Data:', res.data); // Log fetched data for debugging\n        setRecords(res.data || []);\n      } catch (err) {\n        console.error('Error loading data:', err);\n      }\n    };\n    fetchData();\n  }, [token]);\n\n  const handleDownload = async (type) => {\n    try {\n      const res = await axios.get('/register/download', {\n        params: { fileDownloadType: type },\n        responseType: 'blob',\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      const url = URL.createObjectURL(new Blob([res.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `vaccination_report.${type.toLowerCase()}`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (err) {\n      console.error(`Download ${type} failed:`, err);\n    }\n  };\n\n  const filtered = records.filter((rec) =>\n    rec.vaccineName?.toLowerCase().includes(vaccineFilter.toLowerCase())\n  );\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"heading\">Vaccination Report</h2>\n\n      <div className=\"filters\">\n        <input\n          type=\"text\"\n          value={vaccineFilter}\n          onChange={(e) => setVaccineFilter(e.target.value)}\n          placeholder=\"ðŸ” Filter by Vaccine Name\"\n          className=\"filter-input\"\n        />\n        <div className=\"buttons\">\n          <button\n            onClick={() => handleDownload('CSV')}\n            className=\"download-button\"\n          >\n            Download CSV\n          </button>\n          <button\n            onClick={() => handleDownload('PDF')}\n            className=\"download-button\"\n          >\n            Download PDF\n          </button>\n        </div>\n      </div>\n\n      <div className=\"table-container\">\n        <table className=\"vaccination-table\">\n          <thead>\n            <tr>\n              <th>Student Name</th>\n              <th>Vaccination Status</th>\n              <th>Vaccination Date</th>\n              <th>Vaccine Name</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filtered.length === 0 ? (\n              <tr>\n                <td colSpan=\"4\" className=\"no-records\">No records found</td>\n              </tr>\n            ) : (\n              filtered.map((r, i) => (\n                <tr key={i} className=\"table-row\">\n                  <td>{r.studentName}</td>\n                  <td>\n                    <span className={`status ${r.vaccinated ? 'vaccinated' : 'not-vaccinated'}`}>\n                      {r.vaccinated ? 'Vaccinated' : 'Not Vaccinated'}\n                    </span>\n                  </td>\n                  <td>{r.vaccinationDate ? new Date(r.vaccinationDate).toLocaleDateString() : 'N/A'}</td>\n                  <td>{r.vaccineName}</td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default GenerateReport;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}