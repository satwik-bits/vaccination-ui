{"ast":null,"code":"var _jsxFileName = \"/Users/satwikmohanty/IdeaProjects/vaccination-ui/src/components/RegisterVaccination.js\";\n//// src/components/RegisterVaccination.jsx\n//import React, { useState } from 'react';\n//import axios from '../api/axios';\n//\n//const RegisterVaccination = ({ token }) => {\n//  const [studentIdentifier, setStudentIdentifier] = useState('');\n//  const [driveIdentifier, setDriveIdentifier] = useState('');\n//  const [message, setMessage] = useState('');\n//\n//  const handleRegister = async (e) => {\n//    e.preventDefault();\n//    try {\n//      const response = await axios.post('/register/vaccine', null, {\n//        params: { studentIdentifier, driveIdentifier },\n//        headers: {\n//          Authorization: `Bearer ${token}`\n//        }\n//      });\n//      setMessage(response.data);\n//    } catch (err) {\n//      setMessage(err.response?.data || 'Registration failed');\n//    }\n//  };\n//\n//  return (\n//    <div className=\"container\">\n//      <h2 className=\"heading\">Register Student for Vaccination</h2>\n//      <form onSubmit={handleRegister} className=\"filters\">\n//        <input\n//          type=\"text\"\n//          placeholder=\"Student Identifier\"\n//          className=\"filter-input\"\n//          value={studentIdentifier}\n//          onChange={(e) => setStudentIdentifier(e.target.value)}\n//          required\n//        />\n//        <input\n//          type=\"text\"\n//          placeholder=\"Drive Identifier\"\n//          className=\"filter-input\"\n//          value={driveIdentifier}\n//          onChange={(e) => setDriveIdentifier(e.target.value)}\n//          required\n//        />\n//        <button type=\"submit\" className=\"download-button\">Register</button>\n//      </form>\n//      {message && <p className=\"heading\">{message}</p>}\n//    </div>\n//  );\n//};\n//\n//export default RegisterVaccination;\n\nimport React, { useState, useEffect } from 'react';\nimport axios from '../api/axios';\nimport './RegisterVaccination.css';\nconst RegisterVaccination = ({\n  token\n}) => {\n  const [students, setStudents] = useState([]);\n  const [drives, setDrives] = useState([]);\n  const [studentIdentifier, setStudentIdentifier] = useState('');\n  const [driveIdentifier, setDriveIdentifier] = useState('');\n  const [message, setMessage] = useState('');\n\n  // Fetch students and drives on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [studentsRes, drivesRes] = await Promise.all([axios.get('/student/fetchAll', {\n          params: {\n            pageNo: 0,\n            pageSize: 1000\n          },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get('/vaccine-drive/fetchAllDrives', {\n          params: {\n            pageNo: 0,\n            pageSize: 1000\n          },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })]);\n        setStudents(studentsRes.data || []);\n        setDrives(drivesRes.data || []);\n      } catch (err) {\n        setMessage('Failed to load data');\n      }\n    };\n    fetchData();\n  }, [token]);\n  const handleRegister = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/register/vaccine', null, {\n        params: {\n          studentIdentifier,\n          driveIdentifier\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMessage(response.data);\n    } catch (err) {\n      setMessage('Registration failed');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, \"Register Student for Vaccination\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleRegister,\n    className: \"filters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"filter-input\",\n    value: studentIdentifier,\n    onChange: e => setStudentIdentifier(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \"Select Student\"), students.map(student => /*#__PURE__*/React.createElement(\"option\", {\n    key: student.studentIdentifier,\n    value: student.studentIdentifier,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, student.name, \" (\", student.studentIdentifier, \")\"))), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"filter-input\",\n    value: driveIdentifier,\n    onChange: e => setDriveIdentifier(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"Select Vaccine Drive\"), drives.map(drive => /*#__PURE__*/React.createElement(\"option\", {\n    key: drive.driveIdentifier,\n    value: drive.driveIdentifier,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, drive.name, \" (\", drive.driveIdentifier, \")\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"download-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"Register\")), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: message === 'Registration failed' || message === 'Failed to load data' ? 'error-message' : 'success-message',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, message === 'Registration failed' || message === 'Failed to load data' ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, message) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, message)));\n};\nexport default RegisterVaccination;","map":{"version":3,"names":["React","useState","useEffect","axios","RegisterVaccination","token","students","setStudents","drives","setDrives","studentIdentifier","setStudentIdentifier","driveIdentifier","setDriveIdentifier","message","setMessage","fetchData","studentsRes","drivesRes","Promise","all","get","params","pageNo","pageSize","headers","Authorization","data","err","handleRegister","e","preventDefault","response","post","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","map","student","key","name","drive","type"],"sources":["/Users/satwikmohanty/IdeaProjects/vaccination-ui/src/components/RegisterVaccination.js"],"sourcesContent":["//// src/components/RegisterVaccination.jsx\n//import React, { useState } from 'react';\n//import axios from '../api/axios';\n//\n//const RegisterVaccination = ({ token }) => {\n//  const [studentIdentifier, setStudentIdentifier] = useState('');\n//  const [driveIdentifier, setDriveIdentifier] = useState('');\n//  const [message, setMessage] = useState('');\n//\n//  const handleRegister = async (e) => {\n//    e.preventDefault();\n//    try {\n//      const response = await axios.post('/register/vaccine', null, {\n//        params: { studentIdentifier, driveIdentifier },\n//        headers: {\n//          Authorization: `Bearer ${token}`\n//        }\n//      });\n//      setMessage(response.data);\n//    } catch (err) {\n//      setMessage(err.response?.data || 'Registration failed');\n//    }\n//  };\n//\n//  return (\n//    <div className=\"container\">\n//      <h2 className=\"heading\">Register Student for Vaccination</h2>\n//      <form onSubmit={handleRegister} className=\"filters\">\n//        <input\n//          type=\"text\"\n//          placeholder=\"Student Identifier\"\n//          className=\"filter-input\"\n//          value={studentIdentifier}\n//          onChange={(e) => setStudentIdentifier(e.target.value)}\n//          required\n//        />\n//        <input\n//          type=\"text\"\n//          placeholder=\"Drive Identifier\"\n//          className=\"filter-input\"\n//          value={driveIdentifier}\n//          onChange={(e) => setDriveIdentifier(e.target.value)}\n//          required\n//        />\n//        <button type=\"submit\" className=\"download-button\">Register</button>\n//      </form>\n//      {message && <p className=\"heading\">{message}</p>}\n//    </div>\n//  );\n//};\n//\n//export default RegisterVaccination;\n\n\nimport React, { useState, useEffect } from 'react';\nimport axios from '../api/axios';\nimport './RegisterVaccination.css';\n\n\nconst RegisterVaccination = ({ token }) => {\n  const [students, setStudents] = useState([]);\n  const [drives, setDrives] = useState([]);\n  const [studentIdentifier, setStudentIdentifier] = useState('');\n  const [driveIdentifier, setDriveIdentifier] = useState('');\n  const [message, setMessage] = useState('');\n\n  // Fetch students and drives on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [studentsRes, drivesRes] = await Promise.all([\n          axios.get('/student/fetchAll', {params: { pageNo: 0, pageSize: 1000 }, headers: { Authorization: `Bearer ${token}` } }),\n          axios.get('/vaccine-drive/fetchAllDrives', {params: { pageNo: 0, pageSize: 1000 }, headers: { Authorization: `Bearer ${token}` } })\n        ]);\n        setStudents(studentsRes.data || []);\n        setDrives(drivesRes.data || []);\n      } catch (err) {\n        setMessage('Failed to load data');\n      }\n    };\n\n    fetchData();\n  }, [token]);\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/register/vaccine', null, {\n        params: { studentIdentifier, driveIdentifier },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMessage(response.data);\n    } catch (err) {\n      setMessage('Registration failed');\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"heading\">Register Student for Vaccination</h2>\n      <form onSubmit={handleRegister} className=\"filters\">\n        <select\n          className=\"filter-input\"\n          value={studentIdentifier}\n          onChange={(e) => setStudentIdentifier(e.target.value)}\n          required\n        >\n          <option value=\"\">Select Student</option>\n          {students.map((student) => (\n            <option key={student.studentIdentifier} value={student.studentIdentifier}>\n              {student.name} ({student.studentIdentifier})\n            </option>\n          ))}\n        </select>\n\n        <select\n          className=\"filter-input\"\n          value={driveIdentifier}\n          onChange={(e) => setDriveIdentifier(e.target.value)}\n          required\n        >\n          <option value=\"\">Select Vaccine Drive</option>\n          {drives.map((drive) => (\n            <option key={drive.driveIdentifier} value={drive.driveIdentifier}>\n              {drive.name} ({drive.driveIdentifier})\n            </option>\n          ))}\n        </select>\n\n        <button type=\"submit\" className=\"download-button\">Register</button>\n      </form>\n\n      {message && (\n        <div className={message === 'Registration failed' || message === 'Failed to load data' ? 'error-message' : 'success-message'}>\n          {message === 'Registration failed' || message === 'Failed to load data' ? (\n            <span>{message}</span>\n          ) : (\n            <span>{message}</span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RegisterVaccination;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}