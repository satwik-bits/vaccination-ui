{"ast":null,"code":"var _jsxFileName = \"/Users/satwikmohanty/IdeaProjects/vaccination-ui/src/components/RegisterVaccination.js\";\n//// src/components/RegisterVaccination.jsx\n//import React, { useState } from 'react';\n//import axios from '../api/axios';\n//\n//const RegisterVaccination = ({ token }) => {\n//  const [studentIdentifier, setStudentIdentifier] = useState('');\n//  const [driveIdentifier, setDriveIdentifier] = useState('');\n//  const [message, setMessage] = useState('');\n//\n//  const handleRegister = async (e) => {\n//    e.preventDefault();\n//    try {\n//      const response = await axios.post('/register/vaccine', null, {\n//        params: { studentIdentifier, driveIdentifier },\n//        headers: {\n//          Authorization: `Bearer ${token}`\n//        }\n//      });\n//      setMessage(response.data);\n//    } catch (err) {\n//      setMessage(err.response?.data || 'Registration failed');\n//    }\n//  };\n//\n//  return (\n//    <div className=\"container\">\n//      <h2 className=\"heading\">Register Student for Vaccination</h2>\n//      <form onSubmit={handleRegister} className=\"filters\">\n//        <input\n//          type=\"text\"\n//          placeholder=\"Student Identifier\"\n//          className=\"filter-input\"\n//          value={studentIdentifier}\n//          onChange={(e) => setStudentIdentifier(e.target.value)}\n//          required\n//        />\n//        <input\n//          type=\"text\"\n//          placeholder=\"Drive Identifier\"\n//          className=\"filter-input\"\n//          value={driveIdentifier}\n//          onChange={(e) => setDriveIdentifier(e.target.value)}\n//          required\n//        />\n//        <button type=\"submit\" className=\"download-button\">Register</button>\n//      </form>\n//      {message && <p className=\"heading\">{message}</p>}\n//    </div>\n//  );\n//};\n//\n//export default RegisterVaccination;\nimport React, { useState, useEffect } from 'react';\nimport axios from '../api/axios';\nconst RegisterVaccination = ({\n  token\n}) => {\n  const [students, setStudents] = useState([]);\n  const [drives, setDrives] = useState([]);\n  const [studentIdentifier, setStudentIdentifier] = useState('');\n  const [driveIdentifier, setDriveIdentifier] = useState('');\n  const [message, setMessage] = useState('');\n\n  // Fetch students and drives on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [studentsRes, drivesRes] = await Promise.all([axios.get('/fetchAll', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get('/fetchAllDrives', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })]);\n        setStudents(studentsRes.data || []);\n        setDrives(drivesRes.data || []);\n      } catch (err) {\n        setMessage('Failed to load data');\n      }\n    };\n    fetchData();\n  }, [token]);\n  const handleRegister = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/register/vaccine', null, {\n        params: {\n          studentIdentifier,\n          driveIdentifier\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMessage(response.data);\n    } catch (err) {\n      setMessage('Registration failed');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, \"Register Student for Vaccination\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleRegister,\n    className: \"filters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"filter-input\",\n    value: studentIdentifier,\n    onChange: e => setStudentIdentifier(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"Select Student\"), students.map(student => /*#__PURE__*/React.createElement(\"option\", {\n    key: student.identifier,\n    value: student.identifier,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, student.name, \" (\", student.identifier, \")\"))), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"filter-input\",\n    value: driveIdentifier,\n    onChange: e => setDriveIdentifier(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, \"Select Vaccine Drive\"), drives.map(drive => /*#__PURE__*/React.createElement(\"option\", {\n    key: drive.identifier,\n    value: drive.identifier,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, drive.vaccineName, \" (\", drive.identifier, \")\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"download-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Register\")), message && /*#__PURE__*/React.createElement(\"p\", {\n    className: message === 'Registration failed' || message === 'Failed to load data' ? 'error-message' : 'success-message',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, message));\n};\nexport default RegisterVaccination;","map":{"version":3,"names":["React","useState","useEffect","axios","RegisterVaccination","token","students","setStudents","drives","setDrives","studentIdentifier","setStudentIdentifier","driveIdentifier","setDriveIdentifier","message","setMessage","fetchData","studentsRes","drivesRes","Promise","all","get","headers","Authorization","data","err","handleRegister","e","preventDefault","response","post","params","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","map","student","key","identifier","name","drive","vaccineName","type"],"sources":["/Users/satwikmohanty/IdeaProjects/vaccination-ui/src/components/RegisterVaccination.js"],"sourcesContent":["//// src/components/RegisterVaccination.jsx\n//import React, { useState } from 'react';\n//import axios from '../api/axios';\n//\n//const RegisterVaccination = ({ token }) => {\n//  const [studentIdentifier, setStudentIdentifier] = useState('');\n//  const [driveIdentifier, setDriveIdentifier] = useState('');\n//  const [message, setMessage] = useState('');\n//\n//  const handleRegister = async (e) => {\n//    e.preventDefault();\n//    try {\n//      const response = await axios.post('/register/vaccine', null, {\n//        params: { studentIdentifier, driveIdentifier },\n//        headers: {\n//          Authorization: `Bearer ${token}`\n//        }\n//      });\n//      setMessage(response.data);\n//    } catch (err) {\n//      setMessage(err.response?.data || 'Registration failed');\n//    }\n//  };\n//\n//  return (\n//    <div className=\"container\">\n//      <h2 className=\"heading\">Register Student for Vaccination</h2>\n//      <form onSubmit={handleRegister} className=\"filters\">\n//        <input\n//          type=\"text\"\n//          placeholder=\"Student Identifier\"\n//          className=\"filter-input\"\n//          value={studentIdentifier}\n//          onChange={(e) => setStudentIdentifier(e.target.value)}\n//          required\n//        />\n//        <input\n//          type=\"text\"\n//          placeholder=\"Drive Identifier\"\n//          className=\"filter-input\"\n//          value={driveIdentifier}\n//          onChange={(e) => setDriveIdentifier(e.target.value)}\n//          required\n//        />\n//        <button type=\"submit\" className=\"download-button\">Register</button>\n//      </form>\n//      {message && <p className=\"heading\">{message}</p>}\n//    </div>\n//  );\n//};\n//\n//export default RegisterVaccination;\nimport React, { useState, useEffect } from 'react';\nimport axios from '../api/axios';\n\nconst RegisterVaccination = ({ token }) => {\n  const [students, setStudents] = useState([]);\n  const [drives, setDrives] = useState([]);\n  const [studentIdentifier, setStudentIdentifier] = useState('');\n  const [driveIdentifier, setDriveIdentifier] = useState('');\n  const [message, setMessage] = useState('');\n\n  // Fetch students and drives on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [studentsRes, drivesRes] = await Promise.all([\n          axios.get('/fetchAll', { headers: { Authorization: `Bearer ${token}` } }),\n          axios.get('/fetchAllDrives', { headers: { Authorization: `Bearer ${token}` } })\n        ]);\n        setStudents(studentsRes.data || []);\n        setDrives(drivesRes.data || []);\n      } catch (err) {\n        setMessage('Failed to load data');\n      }\n    };\n\n    fetchData();\n  }, [token]);\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/register/vaccine', null, {\n        params: { studentIdentifier, driveIdentifier },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMessage(response.data);\n    } catch (err) {\n      setMessage('Registration failed');\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"heading\">Register Student for Vaccination</h2>\n      <form onSubmit={handleRegister} className=\"filters\">\n        <select\n          className=\"filter-input\"\n          value={studentIdentifier}\n          onChange={(e) => setStudentIdentifier(e.target.value)}\n          required\n        >\n          <option value=\"\">Select Student</option>\n          {students.map((student) => (\n            <option key={student.identifier} value={student.identifier}>\n              {student.name} ({student.identifier})\n            </option>\n          ))}\n        </select>\n\n        <select\n          className=\"filter-input\"\n          value={driveIdentifier}\n          onChange={(e) => setDriveIdentifier(e.target.value)}\n          required\n        >\n          <option value=\"\">Select Vaccine Drive</option>\n          {drives.map((drive) => (\n            <option key={drive.identifier} value={drive.identifier}>\n              {drive.vaccineName} ({drive.identifier})\n            </option>\n          ))}\n        </select>\n\n        <button type=\"submit\" className=\"download-button\">Register</button>\n      </form>\n\n      {message && (\n        <p className={message === 'Registration failed' || message === 'Failed to load data' ? 'error-message' : 'success-message'}>\n          {message}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default RegisterVaccination;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}